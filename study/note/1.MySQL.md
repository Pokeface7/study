

## 一·、基本概念

#### 1、常用的快捷键：

1、alt+tab  切换当前窗口；

2、Ctrl+alt+delete，该快捷键功能是调出任务管理器、注销或者切换用户，电脑死机的时候，也可以关闭导致死机的程序；

3、windows+D 显示或者隐藏桌面；

4、windows+L，锁屏快捷键，这样可以防止他人使用自己的电脑；

5、windows+E ，打开“文件资源管理器”‘

6、Ctrl+F5，强行刷新；

7、windows+R，调出运行命令，可以进行一些复杂的命令操作 cmd(命令)/calc(计算器)/mspaint（画图）

#### 2、**软件**：

网站、app、小程序

c/s架构：安装软件才能运行

B/S架构：直接浏览器打开运行 

#### 3、软件的生命周期（开发流程）：

##### 1、软件定义期

1. 可行性研究阶段：技术、人力、设备、时间、资金、回报率、风俗
2. 需求分析阶段：功能性需求分析和非功能需求分析，非功能需求是功能性需求的前提

##### 2、软件开发期

 3、概要设计阶段——架构师：子系统、模块、技术选型

 4、详细设计阶段——产品经理：页面、页面上的属性、功能

 5、编码实现阶段：UI设计——效果图 

​      前端工程师——将效果图转换为html,css，js 

​      后端工程师——为前段提供所需要的数据

 6、测试阶段

软件测试工程师

##### 3、软件维护期

 7、部署阶段——运维工程师：部署到服务器

 8、维护阶段

#### 4、学子商城功能性需求分析

前台：www.codeboy.com:9999

后台·：www.codeboy.com:9999/admin/login.html

| 前台子系统：                               |
| :----------------------------------------- |
| 用户模块（注册、登录、个人中心、我的收藏） |
| 商品模块（首页、列表、详情）               |
| 购物车模块（添加、修改、删除、下单结算）   |
| **后台子系统**：                           |
| 用户模块（列表、修改、删除、搜索）         |
| 商品模块（列表、修改、删除、添加、搜索）   |
| 订单模块（列表、修改、删除、搜索）         |
| **移动端子系统**                           |
| 户模块（注册、登录、个人中心、我的收藏）   |
| 商品模块（首页、列表、详情）               |
| 购物车模块（添加、修改、删除、下单结算）   |

#### 5、服务器

硬件：就是一台计算机

软件：可以提供各种服务

**访问服务器**

找服务器：域名/IP地址

找服务:端口

使用服务：对应的协议

#### 6、数据库

**1、储存数据的方式：文件、内存、第三方服务器、数据库服务器**

**2、数据库**：数据库是按照一定的形式来组织存储数据，目的是为了更好地操作数据——增删查改

**3、数据库的发展历史**

网状数据库—层次型数据库—关系型数据库（SQL）—非关系型数据库（NoSQL）

**4、关系型数据库逻辑结构**

<u>Server(服务器)——Database（数据库）——Table（数据表格）——Row(行)——Column(l列)</u>

MySQL：开源中小型数据库，可用于各种操作系统

## 二、MySQL

最初由瑞典MySQL AB公司开发，后被SUN收购，随后SUN又被Oracle收购。

MySQL是最流行的开源RDBMS，在WEB应用方面是最好的RDBMS应用软件之一。

MySQL是一种关联数据库管理系统，将数据保存在不同的库中，每个库可包含多个表，每个表中可以有多行多列的数据。

Linux + Apache + MySQL+ PHP  :   “LAMP”组合。目前最流行的开源服务器·之一！尤其适合与中小型站点，需要快速部署的Web应用。

Xampp: 服务器套装

### 1、MySQL的部署结构

1.服务器端：负责存储维护数据——银行的数据库服务器

C;/xampp/mysql/bin/**mysqld.exe**   启动文件

占用3306端口

2、客户端：负责链接数据库，对数据进行操作——ATM机

C;/xampp/mysql/bin/**mysql.exe**    

3、使用客户端连接服务器端

打开Xampp选择shell开始写代码：先写客户端工具名称再找服务器（通过域名/ip）找端口 用户名 密码

```
mysql.exe  -h127.0.0.1  -P3306  -uroot  -p  (完整写法)
```

```
mysql  -uroot   (简写，不要加分号，会改变用户名)
```

### 2、常用的管理命令（**连接的结束不加分号，命令要加英文分号**）

**-h :** host指连接的服务器的域名或者ip地址    localhost/127.0.0.1(自己电脑的)

**-P :** port 端口号   

**-u** :user 用户名,MySQL下默认有一个管理员账户root

**-p:**  password  密码，xampp下root的默认密码为空

**quit; :**  退出 

**show  databases;**  显示所有的数据库

**use :** 数据库名称，加上数据库名称就可以进入指定的数据库   use+***;

**show tables ;  : ** 显示当前数据库中所有的表

**desc  ：** 数据表名称；  加上表的名称可查看指定的表都有哪些列  desc + ***；

```
mysql -uroot
show databases;
use jd;
show tables;
desc enp;
quit;
```

field  表示表头的名称 

### 3、SQL命令

SQL：结构化查询语言，专门用于操作关系型数据库服务器·

##### 1、交互模式

在客户端输入一行命令点击回车。服务器端就执行一行命令——适用于临时性查看数据

##### 2、脚本模式

客户端把要执行的命令写在一个脚本文件中，然后一次性提交给服务器执行——适用于批量的操作数据

```
mysql -uroot<拖拽脚本文件
#show databases;     单行注释
/*show databases;*/  多行注释
```

拖拽完成后再继续输入mysql -uroot  进入数据库

### 4、SQL 命令的语法规范

一行命令可以跨越多行，最终以英文的分号作为结束，SQL命令不区分大小写，建议关键字大写，非关键字小写，假设某一命令出现语法错误，则此命令往后所有命令不再执行。单行注释（#,..，）多行注释（/**/），注释的代码不会执行。

### 5、常用的SQL命令

**1、丢弃数据库，如果存在**

```
drop database if exists 数据库名称;
```

**2、创建一个新的数据库**

```
create database 数据库名称;
```

##### 3.进入数据库

```
ues 数据库名称
```

##### 4、创建表格

```
create table 数据表名称(列名称 类型)
```

int  整数类型（有极限，超过一定数值，只会显示极限值） 。 varchar 字符串类型，需要指定最大数量。

```
drop database if exists jd;
create database jd;
use jd;
create table student( #表名
 sid int,             #学号
 name varchar(16),    #姓名
 sex varchar(1),      #M-男 W-女 
 score int            #分数
);
insert into student values("1","tao","m","80");
insert into student valueS("2","hai","w","90");
select * from student;
```

##### 5、插入数据

```
insert into 数据表名称 values (..)
```

##### 6、查询数据

```
select * from 数据表名称
```

##### 7、修改表中数据

update+表名 set +要修改列名称="修改内容"，...,....,...   where   条件（想要修改的具体列）

```
update  student set
name="qi",score="100" where sid="1";
```

##### 8、删除数据

delete from +表名称 where +修改项名称;

```
delete from student where sid="1";
```

### 6、计算机如何储存字符

#### 1、如何储存英文字符

ASCll（谐音 阿斯科玛） : 对128个英文字母及其符号进行了编码。

Latin -1 ：  总共有256个，对欧洲字符进行了编码，兼容ASll（MySQL默认使用这种编码）。

#### 2、如何存储中文字符

GB2312：对常用的6千多汉子进行了编码，兼容ASll。

GBK：对2 万多的汉字进行了编码，兼容GB2312.

Unicode码：对世界上主流国家常用的语言进行编码，分为三种存储方案，分别是utf-8,utf-16,utf-32。

#### 3、解决MySQL中文乱码

 脚本文件另存为的编码为utf8

 客户端连接服务器端的编码为utf-8（set names utf8;）

 服务器端创建数据库后设置储存字符的编码为utf8（create database xz charset=utf8;）

特殊情况：如果以上在交互模式还有乱码，需要先退出交互模式，然后执行修改命令行的编码为utf8(chcp   65001)

```
#设置客户端连接服务器端使用的编码utf-8
set names utf8;
#丢弃数据库，如果存在
drop database if exists xz;
#创建数据库,设置存储字符的编码utf8
create database xz charset=utf8;
```

### 7、常见的列类型

列类型：在创建数据表的时候，指定的列能存储的数据类型。

 create table news(

列名称  列类型

);

#### 1、数值型--可以不加引号

1TB=1024GB   MB     KB    1Byte（字节）=8Bit（位）

​                                   10进制

   1      2       3         4         5         6        7        8        9       10

​                                    2进制

  1     10     11     100     101     110   111  1000   1001  1010

1、tininy   微整型，占一个字节。范围（-128-127）

2、smallint  小整型，占2个字节，范围（-32768-32767）****

3、int            整型，占4个字节，范围（-2147483648-2147483647）

4、bigint      大整型，占8个字节

5、*float         单精度浮点型，占4个字节，存的值越大精度越低（浮点型  小数点左移动En  右移动E-n）

6、*double       双精度浮点型，占8 个字节，存的值越大精度越低

7、decimal 精准型（使用时需要提供两个值，总的有效位数和小数点后的有效位数）    定点小数存储的值小数点不会发生变化

8、boolean   布尔型，只有两个值，分别是true和false，代表真和假。（eg.性别、是否在线。是否为会员）

使用时true  false 不能加引号

boolean 会自动转为tininy，true转为1，false转为0；也可以直接插入1和0。

#### 2、日期时间型--要加引号

date  日期型  “2022-03-02”

time  时间型  “15:50:32”

datetime 日期时间型“2022-03-02   15:50:32”

#### 3、字符串型--要加引号

varchar(M)        变长字符串，不会产生空间浪费，数据操作速度相对慢，常用于存储变化长度的数据，eg.文章标题，详情，姓名。（只要有剩余的空间加一个空格即可，M最大值65535）

char(M)              定长字符串，可能会产生空间浪费，数据操作相对快，常用于存储固定长度的数据，eg.手机号码、身份证号码。（只要有剩余的空间用空格填满为止，M 最大值255）

  *text（M）      大型变长字符串，M最大值2G。

```
set names utf8;
drop database if exists xuezi;
create database xuezi charset=utf8;
use xuezi;
create table laptop(#注意是逗号
  lid int,
  title varchar(32),
  price decimal(7,3),
  stockCount int,
  shelfTime date,
  isindex boolean
); 
insert into laptop values("1","戴尔笔记本","5999.990","1000","2022-03-02",true);
insert into laptop values("2","戴尔笔记本","5999.990","1000","2022-03-02",true);
insert into laptop values("3","戴尔笔记本","5999.990","1000","2022-03-02",true);
insert into laptop values("4","戴尔笔记本","5999.990","1000","2022-03-02",false);
update laptop set
shelfTime="2022-03-05" where lid="2";
delete from laptop where lid="3";
```

### 8、列约束

MySQL可以对插入的数据进行验证，只有通过验证才允许插入，例如：编号不能重复、性别只能是男或者女、一个人的成绩范围0~100

create table t1(

id int 列约束

)；

#### 1、主键约束——primary key

声明了键约束的列，不允许插入重复的值，一个表只能有一个主键约束。通常加在编号列，可以加快数据的查找速度

null 表示空。代表一个暂时无法确定的值，eg.无法确定一个员工的手机号码，

null是关键字，固定用法，在使用时不能加引号，加引号表示一个字符串。

主键约束的列上不允许插入null

insert 插入多条数据会对空约束造成影响，还是一条一条的插入

#### 2、非空约束——not null

声明了非空约束的列不允许插入null

#### 3、默认值约束——default

如果插入数据，不提供的会使用默认值

使用default关键字设置默认值

```
create table laptop(
lid int primary key,
title varchar(16) not null,
price decimal(6,2) default 500000);
insert into laptop(lid,title) vaules(4,'外星人');
insert into laptop（5，'华为',default,default,default,default）;
```

#### 4、唯一约束——unique

可以为空，也可插入多个空

声明了唯一约束的列上不允许出现重复的值

一个表中可以有多个唯一元素，允许插入null,甚至多个null

使用唯一约束会影响排序

#### 5、检查约束——check

也称为自定义约束，用户可以自己指定约束条件（mysql不支持）

```
creat table student(
score tininy check(score>=0 and score<=0)
);
```

#### 6、外键约束

——foreign   key(外键列)   references   另一个表(主键列)

声明了外键约束的列上插入的值必须在另一个表的主键列上出现过，目的是为了确保了两个表之间建立关联。允许插入null

注意：外键约束和另一个表主键的列类型保持一致。

![image-20220303141422071](D:\WEBStudyRecord\Notes\typora-images\image-20220303141422071.png)

```
create table laptop(
familyid int,
#把familyid作为外键，取值必须在family表的fid出现过
foreign key(familyid) references family(fid)
);
```

### 9、自增列

auto_increment：自动增长，如果设置了自增列，在插入编号的时候只需要赋值为null，就会获取最大值加1后插入。

注意：自增列必须应用在整数形式的主键列；允许手动赋值，此时主键可以插入null，显示的是1.

### 10、简单查询

#### 1、查询特定的列

```
select eid,ename from emp;
```

#### 2、查询所有的列

```
select eid,ename，sex，birthday,salary from emp;
select * from emp;#*代表所有列
```

#### 3、给列起别名

```
select eid as a,ename as b from emp;
select eid a,ename b from emp;#as也可省略
```

#### 4、显示不同的记录

eg、查询员工分布在哪些部门

```
select  distinct deptid from emp;
```

#### 5、查询时执行计算

eg、计算出2+5-9+8*12

select  2+5-9+8*12;

eg. 查询年薪

```
select salary*12 from emp;
```

```
 select ename a, (salary+2000)*12+20000 b from emp ;
```

#### 6、查询结果排序(order by)

eg、查询所有的部门，结果按编号从小到大排列/大到小

```
select * from dept order by did asc;#asc(ascendant) 升序/ desc(descendant) 降序
```

按照字符串排列，按照字符编码排列，不加排序规则默认升序 。

eg、查询所有员工，结果按照工资降序排列，如果工资相同，按照姓名排列

```
select * from emp  order by salary desc,ename asc;
```

#### 7、条件查询

##### 1、明确条件查询

eg、查询编号为10的员工/名字为刘一刀

```
select * from emp where eid=10;
select * from emp where ename=’刘一刀‘;
```

eg、查询工资在六千以上的员工

```
select * from emp where salary>6000;
```

!=(不等于)·

eg.查询出没有明确部门的员工（编号为null）

不能用等号，只能用is null

```
select * from emp where deptid is null;
```

eg、查询有明确的部门的员工

​      **is null  找空  /  is not  null   找非空**

```
select * from emp where deptid is not  null;
```

**多条件查询加一个关键词and(或者用&&)  or(||)或者**

```
select * from emp where salary>10000 and sex=1 ;
```

eg、查询在20 号或者30 号部门的员工

**in()      /not in()**

```
select * from emp where deptid in (20,30);
select * from emp where deptid=20  and deptid=30;
select * from emp where deptid not in(10,40);
```

##### 2、模糊条件查询

不明确的条件，常用于搜索

eg、查询员工姓名中含有字母e的员工 .       % 匹配任意个字母 >=0

```
select * from emp where ename like '%e%'；
```

以e结尾  like ''%e ''   

以e开头  like   "e%''

_   匹配任意一个字符   =1      倒数第二个字母为e   %e_      第二个字母为e    _e%

##### 3、分页查询

查询的结果中有太多数据，一次无法显示就可以分页显示

需要有两个已知的条件，当前的页码、每页的数据量

从0开始计算

select* from emp  limit   开始查询的值，每页的数据量；

注意：；limit后的两个值必须是数值型，不能加引号

##### 4、复杂查询

###### 1、聚合查询

函数  count avg sum max min year()年份

select 函数（列名称） from 表名称;

eg、查询出所有员工数量

```
select count(*) from emp;
```

eg、查询女员工平均工资

select avg(salary) from emp where sex=0;

###### 2、分组查询(group by)不熟悉

select   函数,组名  from  emp  group by 组名

分组查询通常查询聚合函数和分组条件

eg、查询男女员工的数量、平均工资 、工资总和

```
select count(eid),avg(salary),sum(salary),sex from emp group by sex;
```

###### 3、子查询

是多个SQL命令的组合，将一个查询的结果作为另一个的条件。

eg、查询出高于平均工资的员工

```
select * from emp where salary>(select  avg(salary) from emp);
```

eg、查询和tao一个部门的员工有哪些(最后加一个and去掉tao)

```
select * from emp where deptid=(select deptid from emp where ename="tao") && ename!=“tao”;
```

eg、查询和Tom一年出生的员工有哪些

```
select * from emp where year（birthday）=(select  year(birthday) from emp where ename="tom") && ename!="tom";
```

###### 4、多表查询

要查询的数据分别在多个表中，前提表之间已经建立了关联(外键等于主键)

eg、查询出所有员工的姓名及部门名称

```
select ename,dname from emp,dept  where deptid=did;
```

也可以带上表的名字表示列

```
select   emp.ename,dept.dname  from  emp,dept  where   emp.deptid=dept.did;
```

（1）、内连接  inner join  表名  on

```
select ename,dname from  emp  inner  join  dept  on  deptid=did;
```

(2)、左外连接  left outer join 表名 on

会显示左侧表中所有数据，先写那个表 哪个是左（解决了null不显示 的问题）

```
select ename,dname from emp  left outer join dept on deptid=did;
```

（3）、右外连接 right outer join 表名 on （同上）

```
select ename,dname from emp right  outer join dept on deptid=did;
```

*（4）、全连接

 同时显示左侧和右侧表中所有记录

full join  ..on      但是mysql不支持全连接

解决方法：将左外和右外连接起来进行连合，合并相同的项。

union all 联合后不合并相同的项

union 联合后合并相同的项

```
select ename,dname from emp  left outer join dept on deptid=did    union       select ename,dname from emp right  outer join dept on deptid=did;
```

练习、查询出工资在7000以上的男员工的姓名，性别，生日，工资，结果按照工资从高到低排列，只显示3人，给列使用别名。

```
select ename e,sex x, salary s,birthday b,salary y from emp where salary>=7000 and sex = 1 order by salary desc limit 0,3;
#注意 条件写在where 后面  
先写where 然后分组 排序  最后分页

```

