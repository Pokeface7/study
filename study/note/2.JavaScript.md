#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              javaScript

## 一、javaScript基础

学习一门编程语言的步骤：

1、了解背景知识：历史、特点、现状、应用场景。

2、搭建开发环境，编写hello world。

3、变量和常量

4、数据类型

5、运算符

6、逻辑结构

7、通用的小程序

8、函数和对象

9、第三方的库和框架

10、个人项目

### 1、js应用场景

js可以开发浏览器端的交互效果

js还可以进行服务器端的开发，例如：访问数据库、调用其他服务器...

### 2、搭建开发环境

#### 1、浏览器

浏览器内部都有自带的js解释器，可以执行js代码

内核 国外五个 国内用国外的

世界五大浏览器：谷歌、火狐、Safair苹果、edge、欧朋

浏览器私有前缀

‘webkit ’Chrome、Safari、edge

‘moz’  Firefox

‘-o-’  operaq

‘ms'  IE

#### 2、Node，js

js在服务器端的运行环境

www.nodejs.org，下载下16.14.0 LTS

打开命令行 node -v  查看版本号

#### 3、运行js

##### 1、浏览器

创建01.js和01.html文件，在html中编写代码，将js 嵌进去。

<script src="01.js"></script>

##### 2、Node.js

在命令行cmd下：node 拖拽文件  回车。

区分大小写，该小写小写，该大写大写。

每行代码结束的分号可以省略。

### 3、变量

用于储存数据的容器

#### 1、声明变量

let      const     var 

var  let     声明的变量可以暂时不进行赋值，const 声明之后必须进行赋值；

let 不会出现变量的提升；

  var  x=1

使用var关键字声明变量，会在内存中创建一个空间，命名为x

var a=1,b=2,c=3;

一个var 关键字可以声明多个变量，多个之间用逗号隔开

#### 2、变量命名规则

 变量的名称可以由英文字母、数字、下划线、$组成，数字不能放在开头、不能使用关键字，汉字不能作为变量名。尽量使用英文单词，如果有多个单词，用_隔开，或者将后面单词首字母大写。

#### 3、变量的赋值

​    var a=b=2;    代码执行：b=2;var a=b;

变量声明后未赋值为 undefined ，变量可以富哦次赋值，赋不同类型的值，这个是弱语言特点。

练习：声明变量保存多组商品的单价和数量，声明变量保存总价；最后打印出总价。

```
var b1=4,b2=2;
var c=b1*b2;
console.log(c);
```

### 4、常量(constant)

用来储存数据

const a=1

特点：声明后必须赋值，不允许重新赋值

练习：声明变量保存圆的半径，声明常量保存圆周率，声明变量计算圆的面积和周长。

```
var r=5;
const pi=3.14;
var l=2*pi*r;
var s= pi*r*r;
console.log(l,s);


```

### 5、数据类型

分为原始类型和原始类型

原始类型分为五类：数值型、字符串型、布尔型、未定义型、空；

#### 1、数值型num,检测数据类型

就是数字，分为整型和浮点型

console.log(typeof   值)     ：检测数据类型；



#### 2、字符串型str

被引号所包含的数据就是字符串型，不区分单双引号；

查看一个字符的Unicode编码；

console.log('a'.charCodeAt());

#### 3、布尔型boolean

只有两个值，分别是true 和false，代表真和假；

用于保存只有两个值的数据，例如：是否登录、是否为会员；

一些运算结果也是布尔型的值(  1>3 表示false)；

转换为布尔型: 0 ，NaN， ''（空字符串） ，null ，undefined，这些作为条件会隐式转换为false，其他的都为true

#### 4、未定义型undefined

只有一个值 undefined，表示空值，声明了变量未赋值为undefined

数值+undefined=NaN

#### 5、空null

只有一个值null，常和对象一起使用

### 6、数据类型转换

分为隐式转换和强制转换

#### 1、隐式转换

在运算过程中自动产生的转换

##### 1、数字+字符串=字符串

数字会转换为字符串   2+‘3’=‘23’

加号的作用：加法运算，执行数值间的加法运；执行字符串间的拼接。

‘12’-1=11     减号将‘12’转换成12

**字符串拼串只存在于加号之间，其余减乘除可以正常的算术运算，利用算术运算隐式转换为数值型。**

##### 2、数字+布尔型

布尔型会转换成数字   2+true=3



##### 3、字符串+布尔型

布尔型会转换成字符串型    2+‘true’=‘2true’。

练习：小米Air 系统：Windos10

```
var title='小米Air';
var os='Windos10';
console.log('商品名称：'+title+' 系统：'+os);
```

NaN：Not number ，不是一个数字，只有再将一个值转为数值的时候，没有成功的得到数字结果是NaN，NaN和任何值执行数学运算结果还是NanN。

**所有的隐式转换都会自动的调用函数Number()。**

#### 2、强制转换

##### 1、转换为数值

Number()       固定的转换

```
var n1=Number('3');//3
var n2=Number('3a');//NaN
var n3=	Number(true);//1
var n4=Number(false);//0
var n5=Number(undefined);//NaN
var n6=Number(null);//0
```

##### 2.强制转换为整型

parseInt   注意I是大写i不是L(parse  int )

用于将小数和字符串转换为整型，其他的转换结果为NaN

```
var p1=parseInt(5.5);//5
var p2=parseInt('3c');//3
var p3=parseInt('c3');//NaN
var p4=parseInt(true);//NaN
```

##### 3、强制转换为小数

parseFloat( parse float)

用于将字符串转换为小数，其他的转换结果是NaN

```
var a1=parseFloat('6.18a');//6
var a2=parseFloat('3c');//3
var a3=parseFloat('c3');//NaN	
```

##### 4、强制转换为字符串

只能用于将数字和布尔型转换为字符串

```
var n=true;
var str=n.toString();
```

### 7、运算符

表达式：由数据本身或者由运算符连接的数据组成的形式

运算符分为：算术运算符、比较运算符、逻辑运算符、位运算符、赋值运算符、三目运算符

#### 1、算数运算符

   %    取余

   ++  自增   在原来基础上加一

​    --   自减    在原来基础上减一

**单独自增自检，前置后置无影响**

```
var a1=2;
a1++;
console.log(a1);
var a2=1;
a2--;
console.log(a2);
```

**后置：先把a3的值赋给a4，然后a3再进行自增**先返回原值再自增

```

var a3=3;
var a4=a3++;
console.log(a3,a4);//3,4
var  e=10;
var  f=e++ + ++e;
console.log(f,e);/22 ,12

```

**前置：a3先执行自增，然后把自增的结果赋给a4**

```
console.log(a2);
var a3=3;
var a4=++a3；
console.log(a3,a4);//4,4
```

练习：

```
var n1=5;
var n2=n1--;
var n3=--n1;
console.log(n1,n2,n3);//3,5,3
```

**加减还有正负的功能，会产生隐式转换**
var n=5+-'3';        5-3=2
5+ +'3'=5+3=8   中间要加空格
5++'3'  错误，自增只能是变量       

#### 2、比较运算符

<      >     >=       <=       ==（等于）       != （不等于）      ===  （全等于）         !==（不全等于）

==    ：只是比较两个值是否相同，会产生隐式转换。

=== ：不仅比较值，还会比较类型，要求两者都相同。

```
console.log(1==true);//true
console.log(1===true);//false
```

 **特殊**：认为两个值都是空值 是相同的           console.log(null==undefined);//true

（1）、**数字和字符串比较，字符串隐式转换为数字**

NaN和任何值比较（< > <= >= == ===）都是false

（2）、字符串之间的比较，比较的是字符的编码，默认比较第一个字符的，如果相同再 比较第二的

#### 3、逻辑运算符（&& || !   ） 

&&  逻辑与，关联的两个条件都是true，结果是true

||  逻辑或，关联的两个条件有一个是true，结果是true

 ！  逻辑非，!true 是false

运算优先级（&&优先于||）

##### 1、短路逻辑

当执行完第一个条件就不再执行第二个条件就是短路逻辑。

&&  左边第一个条件为false就不在执行第二个条件。

||  左边第一个条件为true就不在执行第二个条件。

#### 4、位运算符

模拟计算机底层的运算方式，先把值转为2进制再进行运算，最后再把运算结果转为10进制

#####    1、&  按位与

上下两位比较，都是1结果是1，否则是0；

3&5=（    011  101 ） =001=1

#####    2、| 按位或

上下两位比较，含有1结果是1，否则是0；/3、^ 按位异或，上下两位比较，不同是1，否则是0；

#####     3、按位右移>>

删除最后的位数，每移动一位在原来的基础上除以2，如果是小数取整。14>>2  =3

#####      4、按位左移<<，在末尾补0，每移动一位在原来的基础上乘以2。

#### 5、赋值运算符

=   +=     -=    *=     /=     %= (先执行运算再赋值)

```
price=price*0.9       =     price*=0.9
```

#### 6、三目运算符

也称条件运算符，根据条件选择执行对应的表达式

一目运算符：由一个运算符连接了一个表达式；  ++ --  ！

二目运算符：由一个运算符连接了两个表达式；   

三目运算符：由两个运算符连接了三个表达式；

条件表达式 ？ 表达式1 ： 表达式2 ；当条件为true执行第一个，为false执行第二个。

练习：声明变量保存用户输入的用户名和密码，如果用户名是admin，并且密码是123abc，打印输出‘成功’，否则输出‘等录失败’

```
var user ='admin';
var pwd = '123abc';
console.log(user == 'admin' && pwd == '123abc'  ? '登陆成功' : '登陆失败');
```

练习：如果小于10，在前面补‘0’

```
var time=9;
time<10 ? '0'+time : time;
```



### 8、浏览器端函数

 alert()  弹出警示框

prompt()   弹出提示框（输入框），需要使用用变量保存用户输入的值，类型是字符串，点击取消返回的是null

练习：弹出两次提示框，分别输入一个数字，最后计算两个数字想加的和，并将结果以警示框弹出

```
var a=prompt('');
var b=prompt('');
var c=parseFloat(a) + parseFloat(b);
    alert('answer: '+c);
```

## 二、流程控制

程序=数据 + 算法

程序的运行方式分为顺序执行、选择执行、循环执行

### 1、if语句

满30减15

```
var total=32;
if(total >= 30){
total-=15;
}
console.log(total);
```

练习：声明变量保存年龄，判断是否为成年人

```
var age=12;
if(age >= 18){
console.log('成年人')
}
```

如果语句块中只有一行代码，则大括号可以省略（语法糖：简写）

false: 0， NaN， '' ，null， undefined，这些作为条件会隐式转换为false，其他的都为true

判断是否为空字符串（user===''）

```
var user='';
if(!user){
console.log('用户名不能为空')
}
```

练习：声明变量保存用户的签名内容，如果签名内容为空，设置默认签名为‘这家伙很懒，什么也没留下’；最后打印签名

```
var  title='龙腾虎跃';
if(!title){
console.log('这家伙很懒，什么也没留下');
}console.log(title);
```

**逻辑运算符赋值，选择将其中一个赋值给变量**

```
var n1=2 || 3;//短路逻辑，2为true，不执行3
var n2=0 || 3;//0为false，执行3
var n3=1 && 0;//0,1为true继续执行下一步
var n4=0 && 5;//0，0为false,不执行下一步
```

### 2、if-else 语句

```
if(条件表达式){
语句块1
}else{
语句块2
}
```

和三目表达式的区别：三元用于简单判断条件，if else用于复杂条件判断

练习:判断闰年

```
var year=2100;
if(year%4==0 && year%100 !=0 || year%400 == 0){
console.log('这是闰年');
}else{
console.log('这是平年');
}
```

练习，计算支付结果，

```
var price=100;
var count=1;
var total=parseFloat(price) * parseFloat(count);
if(total>=1000){
    total*=0.9;
}
var card=1500;
	if(total<=card){
      console.log('pay success');
	}else{
      console.log('pay error');
	  }
```

练习：判断闰年；

```
var year=2100;
if(year%4==0 && year%100 !== 0 || year%400 == 0){
    console.log('这是闰年');
}else{
    console.log('这是平年');
}
```

#### 1、if else 嵌套

语法格式：

```
if(条件表达式1){
语句块1
}else if（条件表达式n）{
语句块n
}else{
语句块 n+1 //以上所有的条件表达式都是false；
}
```

练习：

```
var n=score=70;
if (n>100 || n<0){
  console.log('非法成绩');
}else if (n>=90){
  console.log('优秀');
}else if(n>=80){
  console.log('良好');
}else if(n>=70){
  console.log('中等');
}else if(n>=60){
  console.log('及格');
}else{
  console.log('不及格');
}
```



### 3、switch-case语句 

switch转换、开关；case小例子或者选项；break 结束；

利用我们表达式的值和case后面的选项相匹配，如果匹配上，就执行该case里面的语句，如果都没有匹配上就执行default里面的语句；

switch后的表达式在和case后的值比较的过程中只有全等于（===）if else可以（==）

```
switch(表达式){
      case value1:
          执行语句1;
          break；
     case value2:
          执行语句2;
           break; 
           ...
     default:
           执行最后的语句;
}
```

一般先声明一个变量：num必须和value全等于才可以匹配；

1 、break：在循环体中使用，用于强制结束循环，不再执行循环中的任何代码；

练习：当循环条件为true的情况下，计算10-20之间所有整数的乘积；

```
var i=10;
var n=1;
while (true){
	n*=i;
if(i==20){
    break;
	}i++;
}console.log(n);
```

如果当前case里面没有break则不会退出switch是继续执行下一个case，直到遇到break或者default为止；

```
var num=1;
switch(num){
  case 1:
    console.log(1);
    break;
  default:
    console.log('没有匹配');
}
```

练习：查询水果

```
var fruits=apple;
switch(fruits){
    case b:
     console.log('没有此水果');
     break;
    case apple:
     console.log('苹果');
     break;
    default:
      console.log('无');   
}
```

switch和if else 的区别：

1、switch语句通常处理case比较确定的情况，而if else语句更加灵活，常用于范围判断（大于，小于）；

2、switch语句进行条件判断后直接执行到程序的条件语句，效率更高，而if else 语句从上到下，0 有几种条件就要判断多少次；

3、分支比较少，if else执行效率高，分支多switch执行效率高；

### 4、循环

 循环：一遍又一遍的执行相同或者相似的代码；在程序中，一组被重复执行的语句被称之为循环体，能否继续重复执行。取决于循环的终止条件，由循环体及循环的终止条件组成的语句，被称之为循环语句。

#### 1、for 循环：  

```
for (初始化变量；条件表达式；操作表达式){
                   循环体
}
```

初始化变量：就是用var声明的一个普通变量，通常用于作为计数器使用

条件表达式：终止的条件；

操作表达式：循环后执行的代码，经常用于我们计数器变量（递增或递减）；

```
for(var i=1;i<=100;i++){
          console.log('你好')
}
```

 i=1 ——i<=100——console.log——i++——i<=100——console.log(执行顺序)；

可以让用户控制输出的次数；

```
var num=prompt('请输入次数')；
for(var i=1;i<=num;i++){
     console.log('我很好')；
}
```

控制输入不同的代码；

```
for(ar i=1;i<=100;1++){
    console.log('你今年' +i+'岁了')
}
```

插入分支语句；

```
for(ar i=1;i<=100;1++){
   if(i==1){ 
   console.log('你今年1岁了,刚出生')
   }else if(i==100){
   console.log('你今年100岁了,死了')
   }else{
      console.log('你今年'+i+'岁了')
   }
}
```

 练习：计算1-100之间所有能被7整除的数的和

```
var sum=0;
for(var i=1;i<=100;i++){
	if(i%7 == 0){
      sum+=i;
	 console.log(i);
	}
}console.log(sum);
```

循环案例：求1-100偶数的和、奇数的和；

```
var even=0;
var add=0;
for(var i=1;i<=100;i++){
   if(i % == 0){
     even+=i;
   }else{
     add+=i;
   }
}
console.log('偶数和是'+even);
console.log('奇数和是'+add);
```

计算成绩，输入班级人数，分数，计算总分和平均分；

```
var num=prompt('输入总人数');
var sum=0;
var avg=0;
for(var i=1;i<=num;i++){  
  var score=prompt('输入成绩');
  sum=sum+parseFloat(score);
}
avg=sum/num;
console.log('班级的总成绩是'+sum);
console.log('班级的平均成绩是'+avg);
```

####   2、双重for循环

语法结构：外层循环执行一次内层循环执行全部；

```
for(外层初始化变量；外层条件表达式；外层操作表达式){
    for(内层初始化变量；内层条件表达式；内层操作表达式){
        执行语句
}
}
```

联系：打印五行五列星星；

```
var str='';
for(var i=1;1<=5;i++){
   for(var j=1;j<=5;j++){
    str=str+'';
}
     str=str='\n';//(换行)注意\不要打错了
}
   console.log(str);
```

练习：九九乘法表；

```
  var str='';
        for(var i=1;i<=9;i++){
            for(var j=1;j<=i;j++){
               str+=j+'x'+i+'='+i*j+'\t';//拼接+空格
            }
            str=str+'\n'//换行
        }
        console.log(str)
```

#### 3、while循环

语法结构：while  当...的时候；

```
while(条件表达式){
    循环体
}//当条件表达式结果为true则执行循环体，否则退出
```

结构里面应该也有初始化变量，条件表达式，操作表达式，计数器，防止死循环；

```
var num=1;
while(num<=100){
console.log('hao');
num++;
}
```

练习：打印30-20的整数；

```
var i=30;
while(i>=20){
console,log(i);
i--;
}
```

练习：弹出’我爱你‘；

```
 var message=prompt('你爱我吗？');
        while(message !=='我爱你'){
            message=prompt('你爱我吗？');
        }
        alert('我也爱你啊！')
```

##### 插入if语句

练习：打印偶数；

```
var i=1;
while (i<=100){   
    if(i%2==0){
	var even=i;
	console.log(even);
    }
      i++;
}
```



#### 4、do while 循环

 语法结构：与while不同在于do while先执行一次循环体，再判断条件，如果表达式结果为真，则继续执行循环体，否则退出循环；

```
var i=1;
do {
   console.log('我爱你');
   i++;
}while(i<=100)
```

练习：计算1-100能被3整除的数字的和

```
var i=1;
var sum=0;
do{
if(i%3 == 0){
	sum+=i;
	console.log(i);
    }
     i++;
}while(i<=100)
    console.log(sum);
```



#### 5、循环小结

1、JS中循环有for、while、do while；
2、三个循环很多情况下都可以相互替代使用；
3、如果是用来计次数，跟数字相关的，三者使用基本相同，但是我们更喜欢用for；
4、while和do.while可以做更复杂的判断条件，比for循环灵活一些；
5、while和do.while执行顺序不一样，while先判断后执行，do..while先执行一次，再判断执行；
6、while和do..while执行次数不一样do while至少会执行一次循环体，而while可能一次也不执行
实际工作中，我们更常用for循环语句，它写法更简洁直观，所以这个要重点学习

计算1-100之间所有整数的和，一旦总和超过4000，结束循环，并打印出当前的总和是多少，以及i的值；

```
for(var i=1,sum=0;i<=100;i++){
     sum+=i;
    if(sum>4000){
     console.log(i);
	break;
    }
} 
   console.log(sum);


```

计算2000-2100有多少闰年;

```
var i=2000;
var count=0;
while (i<=2100){
	if(i%4 == 0 && i%100 != 0 || i%400 == 0){
		count++;
	}
	i++
}
	console.log(count);


```

计算一张0.0001米的纸，折叠多少次能和8848一样厚；

```
for (var i=0.0001,n=0;i<8848;i*=2) {
     n++;
}
console.log(n);
```



#### 6、关键字

##### 1 、break：在循环体中使用，用于强制结束循环，不再执行循环中的任何代码；

练习：当循环条件为true的情况下，计算10-20之间所有整数的乘积；

```
var i=10;
var n=1;
while (true){
	n*=i;
if(i==20){
    break;
	}i++;
}console.log(n);
```

如果当前case里面没有break则不会退出switch是继续执行下一个case，直到遇到break或者default为止；

```
var num=1;
switch(num){
  case 1:
    console.log(1);
    break;
  default:
    console.log('没有匹配');
}
```

##### 2、continue ：在循环体中使用，用于立即跳出本次循环，继续下一次循环；

本次循环体中continue之后的代码就会少执行一次，常用于排除循环中某一部分；

```
for(var i=1;1<=5;i++){
    if(i==3){
    continue;//只要遇见continue就退出本次循环，直接跳到i++；
    }console.log(i);
}
```

练习：求1-100之间，除了能被7整除之外的整数和；

```
var sum=0;
for (var i=1;1<=100;i++){
if(i%7==0) {
continue;
}sum+=i;
}console.log(sum);
```

## 三、函数

函数分为系统函数和自定义函数

函数：是一个功能体，童工若干个数据返回处理的结果；——用于封装西重复执行的代码

#### 1、创建一个函数

```
function 函数名称(){
   函数体——要重复执行的代码
}
函数名称();
```

函数体中的代码需要调用才会执行

调用：函数名称();

#### 2、创建带有参数的函数

```
function 函数名称(参数列表){  //用于接收外部传递的值
   函数体——要重复执行的代码
}
函数名称(参数列表);、、实际传递的值
```

计算任意两个数字相加的和

```
function add(a,b){   //形参
     console.log(a+b)
}
add(2,5);//7      实参
add(4,9);//13
add(1,2);//3
```

创建函数时的参数称作形参，调用函数时的参数称为实参，实参会赋值给形参，实参的数量可以和形参数量不匹配，如果形参未被赋值则为undefined；

练习：创建函数getSum，传递一个数字，计算1-n之间任意数字的和；

```
function getSum(n){
	for ( var i=1,sum=0; i<=n; i++)
	{
		sum+=i;
	}
   console.log(sum);
}
getSum(n);
```

练习：传递任意两个年份，统计出之间闰年的数量；

```
function getCount(a,b){
   for (var i=a,count=0;i<=b ;i++ )
   {
	   if (i%4==0  && i%100!=0 || i%400==0)
	   {
		   count++;
	   }
   }console.log(count);
}
getCount(2000,2022);
```

#### 3、关键字：return（只能在函数里面用）

return后面代码不会执行；只能返回一个值，如果存在多个，返回最后一个值；

函数内部的值可以在函数内部打印出来，但是无法在函数外部打印，也无法取出来存在变量中，加return就可以取出来；

```
function 函数名称(参数列表){
    函数体
    return;//返回值，返回函数调用结果
}
调用：函数名称（参数列表）
```

return：用于返回函数调的用结果；

一旦return执行就会结束函数体的执行；

函数中没有return或者return后不加值，结果都是undefined；

练习：创建函数getMax1，传递两个数字，返回最大值；

```
var n=getMax1(7,5)
function getMax(a,b){
  return a>b ? a : b;
}
console.log(getMax1(3,2);)
```

练习：

对比：return和break：

适用场景：return用于函数中，结束函数体的执行；break用于循环和switch-case，结束对应语句。

练习：比较三个数的大小

```
/*function getMax2(a,b,c){
	return a>b && a>c ? a :  (b>c ? b : c);
}
var n=getMax2(3,2,1);
console.log(n);*/
function getMax2(a,b,c){
	if(a>b && a>c){
     return a;
	}else if(b>c){
          return b;
	      }else{
              return c;
			  }
}
var n=getMax2(4,5,1);
console.log(n);
```

练习：1-n, 所有整数阶乘的和

```
function getSum(a){
   for (i=1,sum=0;i<=a ;i++ ){
	   for (j=1,n=1;j<=i ; j++){
          n*=j;
	   }
	   sum+=n;
   }return sum;

}
var s=getSum(5);//用一个变量接收函数
console.log(s);
```

#### 4、关键字 arguments的使用；只有函数才有arguments对象

函数可以不设置形参，arguments里面存储了所有传过来的实参；以伪数组的形式；伪数组：有索引号、数组长度，但是不能运用数组的一些功能

```
function get(){
  var max=arguments[0];
  for(var i=1;i<arguments.length;i++){
   if (arguments[i])>max{
     max=arguments[i];
   }
  }
  return max;
}
console.log(get(1,2,3));
```



### 1、作用域

就是代码名字（变量）在某个范围内起作用和效果，目的是提高程序的可靠性更重要的是减少命名冲突。

全局作用域：在函数以外就是全局作用域；

局部作用域：在函数内部就是函数作用域，这个代码的名字只在函数内部起作用

```
var n=10;
function (){
   n=10;//局部作用域
}
```

#### 1、变量的作用域

##### 1、全局变量

函数以外就是全局作用域，在全局作用域下声明的变量，可以在任意作用域下访问；

**注意：如果在函数内部，没有声明直接赋值的变量也是全局变量**

##### 2、局部变量

函数作用域下声明的变量，只能在所在的函数作用域下访问，函数以外无法访问局部变量；

 **注意：函数的形参也可以看做局部变量**

（1）全局变量只有在浏览器关闭的时候才会销毁， 比较占内存资源；

（2）局部变量 当我们程序执行完毕就会销毁，比较节约内存资源；

```
function foo(){
var m1=m2=m3=5;
}
foo();
console.log(m3);//5，全局
console.log(m2);//5全局
console.log(m1);//undefined 局部
```

### 必考：

程序执行前，会将var声明的变量提升到所在作用域的最前面，只是提升声明部分，赋值不提升。

```
console.log(a);//undefined
var a=1;
```

练习：变量提升

```
var c=3;
function fun(){
	//var c=undefined
   console.log(c);//undefined,
   var c=5;//赋值，先给本作用域赋值，不会给全局赋值，如果不声明，就会给全局变量赋值
}
fun();
console.log(c);//3
```

练习：形参

```
var m=5;
function boo(m){
  //传参相当于给局部变量m赋值
   //var m=1
   //往上找m，找到的是当前作用域下的m
    m=m+3;
}
boo(1);
console.log(m);//5
```

#### 2、函数的作用域

全局函数：在全局作用域下创建的函数，可以在任意作用域下调用

局部函数：在函数作用域下创建的函数，只能在所在的函数作用域下调用

##### 1、作用域链

作用域之间相互嵌套；查找变量的时候，先到当前作用域下查找，如果没有，会一直往上一级作用域查找

##### 2、函数提升

程序执行前，会自动将函数整体提升到所在作用域的最前边，可以先写调用再写创建

函数提升,整体往上提

```
foo();
function foo(){
console.log('调用成功');
}
```

函数和变量提升练习：

```
var num = 10;
fun();
function fun(){
   console.log(nmu);
   var num = 20
}
//经过提升后
var num;//变量提升

function fun(){//函数提升
var num;
console.log(num);
num = 20;
}
num=10;
fun();//undefined
```

代码运行顺序：先声明变量num未赋值；给num赋值10；调用函数；函数里面声明变量num，未赋值；打印num，往上找变量num，根据作用域链就近原则，函数内部变量num离得近，选择内部变量，结果为undefined；给num赋值20；

练习

```
var a = 18;
f1();
function f1(){
var b = 9;
console.log(a);
console.log(b);
var a = 1
}
//经过提升后
var a;
function f1(){
var b;
var a;
b = 9;
console.log(a);
console.log(b);
a = 1;
}
f1();//undefined、9
```

代码执行顺序： 声明变量a；给a赋值1；调用函数；声明变量b;声明变量a；给b赋值9；打印变量a，往上找已经运行过得代码，最近的a，函数内部有，结果为Undefined；打印变量b，往上找9最近；a赋值为1；

练习

```
f1();
console.log(c);
console.log(b);
console.log(a);
function f1(){
 var a=b=c=9;
 console.log(a);
 console.log(b);
 console.log(c);
}
//提升后
function f1(){
 var a；
 a=9;
 b=9;//注意，没有声明的变量是全局变量
 c=9;
 console.log(a);//9
 console.log(b);//9
 console.log(c);//9
}
console.log(c);//9
console.log(b);//9
console.log(a);//报错
f1();
```

代码执行顺序：

### 2、递归

在函数中调用自身这个函数，本是一个死循环，会造成内存泄漏，

使用递归条件：要有边界条件；找规律；使用return结束；

练习：计算阶乘

```
function jc(n){
    //边界条件：当n=1,直接返回1
     if(n==1){
		 return 1; 
	 }
	return n*jc(n-1);//把值返回给函数
	}
console.log(jc(5));
```

斐波那契数列：兔子问题 

```
function tu(n){
   if(n==1 || n==2){
    return 1;
   }
   return tu(n-1)+tu(n-2);
}
console.log(tu(6));
```



### 3、匿名函数

没有名称的函数；

```
//函数声明
function fn(){
}
fn();//函数名称（）
//匿名函数创建--函数表达式
//变量名称就是函数名称--把匿名函数赋给一个变量
var fun=function (){
	console.log(1);
}
//调用
fun();//fun函数名称
```

#### 1、区别

函数名称（）和函数名称的区别：

函数名称（）,调用函数，执行函数体的代码;

函数名称，本质上是一个变量，保存了函数

练习：使用匿名函数创建函数getSum，传递任意两个数字，返回两者之间所有整数的和；

```
var getSum=function(a,b){
	for(var i=a,sum=0;i<=b;i++){
		 sum+=i;
	 }
	     return sum;
}
console.log(getSum(1,2));
```

如果进行提升，提升的只是声明部分，提升的是变量getSum，而函数是赋给变量的值，未提升;

**函数声明和函数表达式创建函数的区别：**

函数声明存在函数提升，可以先写创建再写调用

函数表达式只是存在声明提升,它的函数赋值给变量，提升的只是变了，必须写创建再写调用

练习：函数的提升

**函数最先提升，变量在提升，如果函数名称和变量名称相同，函数会提升，变量声明不再提升；**

```
c();//5
var c=2;
function c(){
console.log(5);
}
c();//报错，c is not a function
//提升后，函数名称和变量名称相同，函数会提升，变量声明不再提
function c(){
console.log(5);
}
c();
var c=2;
//
function c(){
console.log(5);
}
var c=2;
c();
```

执行顺序：调用函数，打印5，声明变量a=2;

声明变量a=2,调用函数，变量a看做a(){},但又被1覆盖，故不是一个函数；

#### 2、匿名函数自调用

全局污染：全局变量出现，访问范围最大；

目的：为了创建函数作用域，防止全局污染：转为局部变量；

先将变量放入函数，再去掉函数名称，这样就全部转为局部变量；把函数放入括号；

```
;（function（）{
var n=2;
console.log(n);//函数作用域，变量都是局部变量
}）();//匿名函数自调用
```

注意：匿名函数前面可以加一个分号 ，防止上一行代码忘记加分号，导致两行代码连在一起；

#### 3、回调函数

将函数作为参数传递，将函数作为实参传递给形参；

```
function tao(madai){
   //实参赋给形参，madai=xin
   //madai=function(){}
   //调用传递的参数，通过参数madai
   //
   madai(function(){});
}
function xin(){
}
//函数名称xin作为参数，就叫回调函数
//tao(xin);
//匿名函数作为参数，也叫回调函数
tao(function(){
console.log('dog');
})
```

如果想传递多个回调函数，增加形参逗号隔开；

#### 4、系统函数

##### 1、Number()/parseInt()/parseFloat()...

isNaN()  检测字符串中是否含有非数字，含有返回true，不含有false；会自动调用函数Number()转为数值，然后查看是否为数值；

##### 2、eval（）执行字符串表达式

```
var str='1+3';
console.log(str);//1+3
//执行字符串表达式
console.log(eval(str));//4
```

创建一个函数，传递任意一个数字，检测是否为素数，返回布尔型的值。

```
function isPrime(a){
	if(n<2 ){
    return a+'不是素数';
	}
 for (var i=2;i<a ; i++){
	if (a%i==0){
     return  a+'不是素数';
    }
 }//再循环结束后，如果始终没有返回结果说明中间没有能被整除的数字
	return a+'是素数';    
}
console.log(isPrime(0));
```

## 四、对象

对象是一组属性和方法的集合，属于引用类型的数据。

涛哥的属性：性别、姓名、身高、体重....;

方法：就是他能做什么。

对象是具体的某一个个体：

### 1、Js中的对象

自定义对象：用户自己创建的对象

内置对象：Js标准中提供的对象

宿主对象：根据不同的执行环境划分，分为浏览器和Node.js两种

#### 1、自定义对象创建——字面量

##### 1、对象的创建

var 对象名={属性名:'      ' , }

##### 2、属性的访问

对象.属性名

对象['属性名']

如果不存在的属性获取结果为undefined

##### 3、属性的修改

对象.属性名=

```
//对象字面量
var tao={name:'涛哥',
sex:'男',
salary:50000,
'brith-time':'1973-7-16'//属性名可以不加引号，如果属性名里面含有特殊字符，必须加引号；
}//属性名:属性值,
console.log(tao);
//属性的访问（获取、修改）
console.log(tao.name);//不加引号的用.，也可以用中括号，中括号里面的属性名必须要加引号；
console.log(tao['brith-time']);含有特殊字符的，必须用中括号；
//属性的修改

```

练习：创建一本图书对象，包含属性有编号，标题，价格，作者；修改图书的价格，添加出版社属性；最后打印对象。

```
var book={
    num:001,
	title:'一个男人和很多女人的故事',
	pirce:100,
	author:'曹雪芹'
}
book.pirce=200;
book.press='新华出版社';
console.log(book);
```

#### 2、自定义对象创建——内置构造函数

创建一个空对象，需要单独添加每一个属性；

通过new调用的函数就是构造函数，返回一个对象;

var 对象=new Object();   O要大写

练习：创建一个员工对象，包含的属性有编号，姓名性别工资

```
var emp=new Object();
emp.name='工藤静香';
emp.sex='女';
emp.salary=100000;
console.log(emp);
```

#### 3、遍历属性

依次访问对象中的每一个属性

```
//遍历
for(var k in emp){
//k代表每一个属性名
//emp[k] 属性值
console.log(k,emp[k]);
}
```

练习：创建一个学生对象，包含多个成绩，遍历属性得到每个成绩，计算总分和平均分

```
var stu={
yuwen:90,
math:95,
eng:89,
che:87,
phy:100,
}
//声明变量保存总和
var sum=0;
var count=0;
for(var k in stu){
//console.log(k,stu[k]);
//求和
sum+=stu[k];
//计数
count++;
}avg=sum/count;
console.log(sum,avg,count);
```

#### 4、检测对象中是否含有某个属性

1、对象.属性名===undefine  /                 true 不存在；false 存在；

2、’属性名‘  in   对象                                   true 存在，false 不存在

3、对象.hasOwnProperty('属性名')   /     true存在   ；false 不存在

```
console.log(emp.hasOwnProperty('name'));
```

练习：声明一个变量保存一个商品对象，包含属性，编号，价格，如果产地不存在，则添加属性，如果价格存在打八折；

```
var product={
    pid:3,
	title:'小米Air',
	price:4000,
}
if(product.madeIn===undefined){
	product.madeIn='中国';
}
	if('price' in product){
		product.price *= 0.8;
	}
	console.log(product);
```

4、对象中的方法

方法对应的是一个函数

```
function run(){
	console.log(person.name+'正在拍戏');
}
var person={
   name:'工藤静香',
//方法对应的是一个函数
   play:function(){
//方法中this指向的是调用方法的对象(谁调用方法，this就指向谁)
	   console.log(person.name+'拍电影');
	   //console.log(this.name+'拍电影');   
   },
	pao:run
}
//console.log(person);
//调用方法
person.play();
person.pao();
```

练习：创建一个圆对象，包含的属性有半径和圆周率，添加方法计算圆的周长并返回结果；添加计算圆的面积并返回结果。

```
var circle={
  r:2,
  pi:3.14,
  L:function(){
//     var l;
//    l=2*this.r*this.pi;
//     console.log(l);
	 return 2*this.r*this.pi;
  },
  S:function(){
//	  var s;
//	  s=this.pi*this.r*this.r;
//	  console.log(s);
	  return this.pi*this.r*this.r;
}
}
//circle.L();
//circle.S();
console.log(circle.L(),circle.S());
```

### 2、数据存储

  原始类型和引用类型。

  原始类型的数据直接存储在栈内存。

   引用类型（函数、对象、数组）的数据存储在堆内存，同时会生成地址，地址保存在栈内存。

​    null，表示空地址，不指向任何对内存数据。

​    堆内存中的数据如果不被任何的地址所指向就会销毁，只需要赋值null即可销毁。

![image-20220314153521660](D:\WEBStudyRecord\Notes\typora-images\image-20220314153521660.png)

```
var tao={
color:'绿色',
	size:'XXL'
}
var xin=tao;//赋值，赋的是地址，属性储存在堆内存，还是共用，
xin.color='红色';//改变了堆内存
console.log(tao.color);//红、地址还是相同的，指向同一个引用数据
//两个对象之间进行比较，比较的是地址
var p1={
name:'xin'
}
var p2={
name:'xin'
}
console.log(p1===p2);//false
//null  销毁引用数据
xin=null;
tao=null;
```

练习：原始数据类型存储和引用数据类型存储的区别、传值和传地址

```
var a=2;
function fn(n){
  n=n+2;
}
//拷贝一份a的值作为参数传递，和原来的a没有任何关系
fn(a);
console.log(a);//2

var o1={
  title:'小米'
}
function fun(obj){
	//obj保存了o1的地址，两者指向了同一个对象
	//obj=o1
	//无论使用哪一个对象修改，另一个也发生变化
  obj.title='华为'；
}
  //传递引用类型，传递的是地址
  //拷贝一份o1的地址，然后作为参数传递
  fun(o1);
  console.log(o1.title);//华为
```



## 五、数组

数组是指一组数据的集合，其中的每个数据被称作元素，在数组中可以存放任意类型的元素，数组是一种将一组数据储存在单个变量名下的优雅方式。

#### 1、利用new创建数组——内置构造数组

##### 1、创建

var arr =  new Array(元素1，元素2，....);

var course=new Array(3);创建数组初始化长度，可以添加更多个元素

##### 2、数组的分类

关联数组：字符串下标/很少用到

```
var arr=[];
//关联数组：字符串下标
//索引数组：大于0整数作为下标
arr['name']='tao';
arr['sex']='男';
arr.salary=1000;
arr[0]='tao';
console.log(arr);
```

索引数组：大于0整数作为下标

##### 3、对比数组和对象

数组是一组有序的排列的；

对象是一组无序的数据；

两者都是用于存储一组数据，对象是通过属性，数组是通过元素；

数组存储的一组数据是有序排列的；

对象存储的一组数据是无序排列的；

##### 4、数组和对象的嵌套

数组嵌套对象

每个对象中包含一个员工

```
var arr=[{},{},{}];
arr[0]={name:'tao',salary:1000,sex:'男'}
arr[1]={name:'xin',salary:10000,sex:'男'}
arr[2]={name:'zhang',salary:18000,sex:'男'}
console.log(arr);
console.log(arr[0].name,arr[0].salary);//查找单一属性值
```

对象嵌套数组

创建一个学生对象，包含学号，姓名，选修的课程

```
var stu={
    id:1,
	name:'tao',
	course:['计算机','css','js']
}
console.log(stu.course[0]);
```

二维数组,可以对数据进行二次分类

```
var=[
[1,2],
[3,4],
[6,7]
];
console.log(arr[2][0]);//6
```



#### 2、利用数组字面量创建数组——外置构造函数

数组储存的数据可以使是任何类型

```
var  arr = [];
var arr1 = [1,2,'哈哈',true];
```

#### 3、获取数组每元素

##### 1、获取数组每一项元素

可以用索引号取元素(0,1,2,3,4,5...)是计数器，当索引号用

```
console.log(arr1[i]);
```

##### 2、遍历，把数组所有元素获取出来；

```
var arr=[1,2,3];
for (var i=0;i<3;i++){
    console.log(arr[i]);
}
```

注意：因为索引号是从0开始的，所以i也从0开始，i<数值个数；

不推荐使用，主要在对象中使用的

```
var arr=[1,2,3,4,5];
for(var k in arr){
//k代表每个元素索引号
//arr[k]索引号对应的元素
console.log(k,arr[k]);
}
```



#### 3、计算数组的长度

console.log(arr.length);

条件表达式可写为，i<arr.length；

1、可以在数组末尾添加新元素arr[arr.length]=

2、清空数组：arr.length=0

#### 4、加入循环条件，遍历数组

练习：计算数组【1,4,6,5,6,7】里面所有元素的值和平均值

```
var arr = [1,4,6,7,6,7];
var sum=0;
var avg=0;
for(var i=0;i<arr.length;i++){
    sum+=arr[i];
}
avg=sum/arr.length;
console.log(sum,avg);
```

练习：求数组里面的最大值；

```
var arr = [2,6,7,88,9,33,0,1];
var max = arr[0];
for (var i=1;i<arr.length;i++){
    if(arr[i]>max){
    max=arr[i];
    }
}
console.log(max);
```

练习：数组转换为分割字符串

将数组中【‘1’，‘3’，‘2’，‘4’，‘5’】转换为字符串，并且用|或其他符号分割，输出：‘1|3|2|4|5’

```
var arr=[];
var str='';
var sep='!';
for (var i=0;i<arr.length;i++){
   str+=arr[i]+sep;
}
console.log(str);
```

#### 5、数组中新增元素

##### 1、通过修改length长度新增数组元素；

```
var arr=[ 1,2 ];

arr.length=2;
```

##### 2、通过修改数组索引新增数组元素；

```
var arr=[1,2,4];
arr[2]=3;
```

如果索引号已经存在，就会替换元素；不要给数组名赋值，否则数组元素都会消失；

##### 数组案例

练习：新建一个数组，里面存放10个整数；

```
var arr=[];
for(var i=0;i<10;i++){
   arr[i]=i+1;
}
console.log(arr);
```

练习：将数组里面大于10的元素取出来，放入新数组；

```
var arr=[2,4,13,14,16,17];
var arr1=[];
var j=0;
for(var i=0;i<arr.length;i++){
   if(arr[i]>10){
   arr1[j]=arr[i];
   j++;
   }
}
console.log(arr1);
也可以不设变量j ，arr1[arr1.length]=arr[i];因为数组索引号从0开始，数组长度从1开始，随着赋值，数组长度开始自增；
```

练习：将数组内容反过来存放；

```
var arr=[2,4,13,14,16,17];
var arr1=[];
for(var i=arr.length-1;i>=0;i--){
   arr1[arr1.length]=arr[i];
}
```

冒泡排序

将数组a[5,4,3,2,1]按从小到大排序；（）

```
var a=[5,4,3,2,1];
        for (var i=0;i<=a.length-1;i++){//外循环控制需要运行的趟数
            for (var j=0;j<=a.length-1-i;j++){//内循环控制一趟需要交换的次数
                if (a[j]>a[j+1]){
                    var tem=a[j];
                    a[j]=a[j+1];
                    a[j+1]=tem;
                    }
            }
        }
        console.log(a);
```

#### 6、API

应用程序编程接口

在js下表示预定义好的函数和方法，例如parseInt()/parseFloat()/isNaN()...

将数组转换为字符串

1、toString()   将数组转换为字符串

```
var arr=['a','b','c'];
//把数组转为字符串
console.log(arr.toString());//‘a,b,c’
//区别是不是同一个方法，查看调用方法的对象数据类型是否相同；
var num=2;
console.log(num.toString());//‘2’
```

 2、join()       数组转字符串可以指定分隔符号   

```
var arr=['a','b','c'];
console.log(arr.join('/'));//‘/a/b/c’
```

3、concat()    拼接多个数组

```
var arr1=['a','b','c']
var arr2=['d','e','f']
var arr3=['g','h','i']
console.log(arr1.concat(arr2,arr3));//arr1内元素不改变
```

如何学习API

www.w3School.com.cn

MDN

作用、参数有哪些、返回值是什么；数组API还需要查看原数组是否会发生变化。

4、slice(start,end);    截取元素，start开始的下标，end结束的下标，不包含end，end为空会截取到最后，下标是负数表示倒数；返回截取到的数组元素

```
//截取数组元素
var arr1=['a','b','c','d','e','f','g','h','i']
console.log(arr1.slice(2,4));//c,d,不包含结束这一项，从0开始计数；
console.log(arr1.slice(2));//c~i,不写结束会把会面全部截取；
console.log(arr1.slice(-3,-1));//g、h负数代表倒数,倒数从-1开始计数；
var arr2=['a','b','c','d','e','f','g','h']
console.log(arr2.slice(1,3));//b，c
console.log(arr2.slice(-3,-2));//f
var i=arr2.slice(1,3);
var j=arr2.slice(-3,-2);
console.log(i.concat(j))//拼接
```

5、splice(start,count,v1,v2)   删除数组元素，start开始的下标，count删除的数量，count为空删除到最后，下标为负数表示倒数，v1,v2表示删除后补充的元素，返回删除的元素**，原数组会发生变化**；

```
var arr2=['a','b','c','d','e','f','g','h']
console.log(arr2.splice(3,2,'m','n'));//d,e 删除d,e，补m，n   替换
console.log(arr2.splice(3,0,'m','n'))//删除为0，就是补元素   在下标为3的位置插入m,n
console.log(arr2.splice(-3));//倒数第三个后面全删
console.log(arr2);//删除后的数组
var arr3=['a','b','c','d','e','f','g','h']
console.log(arr3.splice(2,2));//删除c,d
console.log(arr3.splice(3,1,'m'));//替换f为m
console.log(arr3.splice(1,0,'z'));//在1的位置插入z
console.log(arr3);
```

6、reverse();  翻转数组元素,原数组**发生变化**

```
var arr=['a','b','c','d'];
console.log(arr.reverse());
```

7、sort ();    对数组进行排序，默认是按照编码排序，返回排序的数组，原数组会**发生变化**

sort( function(a,b){
	//从小到大排序
return a-b;
   //从大到小
   return b-a   }）

```
var arr=[34,5,62,8,9,3];
console.log(arr.sort());//[3,34,5,62,8,9],默认是按照首个字符的Unicode码排序
console.log(arr.sort( function(a,b){
	//从小到大排序
return a-b;
   //从大到小
 //  return b-a;
} ));
```

8、indexOf();       检测数组中是否含有某个元素,查找返回索引号，找不到返回-1；

```
var arr=['a','b','c','d'];
console.log(arr.indexOf('b'));
```

练习：创建数组包含和谐福，友善福，判断数组是否含有敬业福，如果不存在则把该福字添加到数组

```
var fu=['爱国','诚信','友善','和谐'];
if(fu.indexOf('敬业')===-1){
	fu[fu.length]='敬业';
};
```

9、push()           在数组末尾添加元素，返回数组长度，原数组会**发生变化**

pop()   删除数组末尾的一个元素，返回删除的元素，原数组会**发生变化**

unshift()   在数组的开头添加元素，返回数组长度，原数组会**发生变化**

shift()     删除数组开头的一个元素，返回删除的元素，原数组会**发生变化**

```
var fu=['爱国','诚信','友善','和谐'];
//末尾添加
console.log( fu.push('富强','敬业') );
//删除末尾的一个元素
console.log(fu.pop());//只能删一个
console.log(fu.unshift('富强'，敬业));
console.log(fu.shift());
```

元素颠倒

```
var arr=[1.,2,3,4,5];
var arr1=[];
for(var i=arr.length-1;i>=0;i--){
   arr1.push(arr[i]);
}
console.log(arr1);
```



## 六、字符串对象

包装对象：目的是为了让原始类型数据也具有属性和方法，JS中一共提供三种包装对象：字符串、数值、布尔

new String()  将一个字符串包装为对象

string（） 将一个值强制转换为字符串

#### 1、转义字符——  \

转换字符本身的意义

```
\'    将具有特殊意义的引号转为普通引号
\n    将字符n转义为换行符
\t    将字符转义为制表符（产生多个连续空格）
```

#### 2、API

字符串直接调用属性和方法的时候，会自动包装为对象，然后再去调用属性或者方法
1、length 获取字符串的长度

```
console.log(new String(str).length);
```

2、charAt()   获取一组字符串中下标对应的字符，也可以用数组方法：   字符串[下标]

练习：遍历字符串JavaScript，获取a出现的次数

```
var str='Javascript';
for(var i=0,count=0;i<str.length;i++)
         if(str[i]==='a'){
			 count++;
}
console.log(count);
```

3、indexOf()     查找字符串中是否含有某个字符(找第一个)，找到返回第一次出现的下标，找不到返回-1；

lastIndexOf()       查找字符串中是否含有某个字符(找第一个)，找到返回最后一次出现的下标，找不到返回-1；

4、toUpperCase()  转大写

​      toLowerCase()   转小写

所有的字符串API 都不会对原来的字符串产生影响

5、slice(start,end)    截取字符串，start开始的下标，end结束的下标，不包含end本身；end为空截取到最后，如果小标为负数，返回截取的字符串部分。

练习：截取邮箱的用户名和域名

```
var str='tao666@tedu.cn';
 var i=str.indexOf('@')
console.log(i);
console.log(str.slice(0,i));
console.log(str.slice(i+1));
```

6、split(str)     将字符串转为数组，可以指定分割的字符

练习：获取一个名字中的姓氏

```
var str='尼古拉斯.皮特.托马斯.涛哥';
var arr=str.split('.');//以.为分隔符，创建数组；
console.log(arr[arr.length-]);
```

## 七、Math对象

提供一组数学相关的方法

是一种特殊的对象，不需要创建对象就可以直接调用API

console.log(Math.PI);//圆周率
console.log(MAth.abs(18-19));//绝对值
console.log(Math.ceil(4.3));//5//向上取整
console.log(Math.floor(4.9));//4//向下取整
console.log(Math.round(4.5));//5//四舍五入取整
console.log(Math.pow(5,2));//25//次方
console.log(Math.max(5,2,1));//5//获取一直数字的最大值
console.log(Math.min(5,2));//2//获取一组数据的最小值

console.log(Math.random());//获取一个随机数，范围在0~1

随机获取数组的随机下标：向下取整（随机数*数组长度）

```
var arr=['a','c','s','f','b']
var j=Math.floor(Math.random()*arr.length);
console.log(arr[j]);
```



```
var str='a.b.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u.v.w.x.y.z';
var arr=str.split('.');
var  arr1=[];
for(var i=1;i<=4;i++){
    var j=Math.floor(Math.random()*arr.length);
	//获取的随机元素添加到新数组
	 arr1.push(arr[j]);
	 //删除已经获取的元素
	 arr.splice(j,1);
}
console.log(arr1);
```

## 八、date对象

用于日期时间的存储和计算

#### 1、创建 

必须用'/'，其他符号不行，不写时分秒默认0/0/0

new Dtae('2022/3/16 14:12:30')//显示的是0时区

new Date('2022,2,16,14,12,30')   //1-12月份存储的值是0-11

new Date()    存储的是当前操作系统的时间

new Date(1000)   存储的是距离计算机元年（1970-1-1 0:0:0）的毫秒数，会产生一个具体的日期时间——时间戳

#### 2、获取存储的各项具体

```
getFullYear()//年
//使用月份的时候需要加1
getMonth()+1
//日期
getDate()
//小时
getHours()
//分
getMinutes()
//秒
getSeconds()
//毫秒
getMilliseconds()
//获取时间戳
getTime()
//星期  范围日~六 对应0~6
getDay()
```

练习：创建对象保存当前操作系统的时间，获取存储的值，最终显示以下格式：今天是xx年xx月xx日   星期xx

要点：把日~六放到数组，对应下标是0~6

当月份的值小于10，在前面拼接0
	

```
var d=new Date();
var arr=['日','一','二','三','四','五','六'];
var year=d.getFullYear(),
    month=d.getMonth()+1,
	date=d.getDate(),
	day=d.getDay(),
	time='今天是'+year+'年'+month+'月'+date+'日'+'\t'+'星期'+arr[day];
	if(month<10){
     month='0'+month
	}
console.log(time);
```

简单的倒计时

```
//计算距离2022/3/21还有x天x小x时x分x秒
var d1=new Date();
var d2=new Date('2022/3/21');
//d2-d1，两个对象直接相减得到的也是相差的毫秒数
var d=d2.getTime()-d1.getTime();
//把相差的毫秒转为秒
d=Math.floor(d/1000);
//计算秒:不足够换算为分钟的部分
//var s=d%60;
//var m=[(d-s)%3600]/60;
//var h=[(d-s-m*60)%(3600*24)]/3600;
//var day=(d-s-m*60-h*3600)/(3600*24);
//console.log('距离2022年3月21号还有'+day+'天'+h+'小时'+m+'分'+s+'秒')
var s=d%60;
var m=parseInt(d%3600/60);
var h=parseInt(d%(3600*24)/3600);
var day=parseInt(d/(3600*24));
console.log('距离2022年3月21号还有'+day+'天'+h+'小时'+m+'分'+s+'秒');
```

#### 3、获取本地字符串格式

用于调节阶段；存在兼容性问题，不能用于实际开发中；

toLocaleString()                    获取完整的部分

toLocaleDateString()            获取日期

toLocaleTimeString()            获取时间

```
var d=new Date();
//转为本地字符串,原来是0时区，转为当前计算机的时间
console.log(d.toLocaleString());
console.log(d.toLocaleDateString());
console.log(d.toLocaleTimeString());
```

#### 4、修改日期时间

把查询各部分的get换为set，修改时间戳会产生一个新时间

```
var d=new Date('2022/3/16 16:53:40');
//修改存储的值，星期不能修改
d.setFullYear(1998);
d.setMonth(6);//超过11，会自动往前进一位
d.setDate(16);
console.log(d.toLocaleString());
```

练习：创建一个date保存一个员工的入职时间2022/3/16，假设合同期为三年，计算出到期时间，最后打印出入职时间和到期时间两个本地字符串形式

```
var d=new Date('2022/3/16');
//不能在d上修改，d只是几率入职时间，到期时间需要使用另一个对象来保存
//防止修改入职时间，不能直接赋值，赋的是地址，对象没变，拷贝一个入职时间作为到期时间；
var d1=new Date(d);
//到期时间：在当前的年份基础（自动获取）上加3
d1.setFullYear(d1.getFullYear()+3);
//console.log('入职时间'+d.toLocaleDateString());
//console.log('到期时间'+d1.toLocaleDateString());
//计算续期时间，拷贝一个到期时间，设置为提前一个月，打印出
var d2=new Date(d1);
d2.setMonth(d2.getMonth()-1);
console.log('入职时间'+d.toLocaleDateString());
console.log('到期时间'+d1.toLocaleDateString());
console.log('续期时间'+d2.toLocaleDateString());
```

练习：计算一个日期是本年的第几天

```
function getDays(year,month,date){
	 var  d=new Date(year,0,0);
	 var  d1=new Date(year,month-1,date);
	 var  d2=d1.getTime()-d.getTime();
	 var  day=d2/(24*3600*1000)
          console.log(day)
}
getDays(2022,1,1);
```

练习：双色球
红球:在1~33之间随机获取6个，不能重复
蓝球:在1~16之间随机获取1个，可以和红球重复，将获取的红球放入到一个数组，进行从小到大的排列，将获取额蓝球放入到数组最后

```
var red=[1,2,3,4,5,6,7,8,9,10];
var blue=[1,2,3,4,5];
var arr=[];
for(var i=1;i<=6;i++){
 var j=Math.floor(Math.random()*red.length);
     arr.push(red[j]);
     red.splice(j,1);
}
for(var a=0;a<arr.length-1;a++){
  for(var b=0,n;b<arr.length-a-1;b++){
       if(arr[b]>arr[b+1]){
		  n=arr[b];
		  arr[b]=arr[b+1];
          arr[b+1]=n;
	   }
  }
}
var m=Math.floor(Math.random()*blue.length);
   arr.push(blue[m]);
console.log(arr,blue[m]);
```

## 九、包装对象

### 1、Number对象

new Number()  将一个值包装为对象

Number      将一个值强制转换为数值
toFixed(n)    保留数小数点后面n位，四舍五入

### 2、boolean对象

new  Boolean() 将一个布尔值包装为对象

Boolean   将一个值强制转换为布尔型

！！值   隐式转换为布尔型

### 3、错误处理

#### 1、常见的错误

语法错误（SyntaxError）：代码书写不符合规范；

引用错误（ReferenceError）：使用了未声明的变量

类型错误（TypeError）：调用的方法不是一个函数类型

自定义错误：程序员自己指定的错误 throw 错误内容

2、错误处理

即使出现了错误也不影响后续代码执行

try{

//尝试执行，可能会出现错误，不再影响后面的执行；一旦出现错误，会执行catch语句

}catch(err){

//只有try中出现错误，才会执行；捕获到try中的错误，使用err参数收集；解决错误

}

## 十、ES6

ES6）——ESCMAScript

指的是js第6套标准规范

### 1.块级作用域

let声明的变量也存在提升，但是提升后不允许使用，不允许重复声明；

大括号之间的语句块就是块级作用域；块级作用域下let和const声明是局部的，外部无法访问，可以防止全局污染；

```
let sum=0;//如果在for里面声明外部无法访问
for(let i=1;1<=100;i++){
  sum+=i;
}
console.log(sum);
```

let声明的变量在全局作用域下也不是全局变量

### 2、参数增强

可以给参数设置默认值

```
function add(a,b,c=0){//设置c默认值为0
//ES6之前默认值设置；b=b||0;(短路逻辑)
console.log(a+b+c);
}
add(8000,5000,500)
```

调用函数的时候，如果不提供值会使用默认值；

### 3、箭头函数

简化了匿名函数的写法，不等价于匿名函数

function(){    }

()=>{     }

```
var arr=[23,9,78,6,45];
arr.sort((a,b)=>{
return a-b;
});
console.log(arr);
```

如果箭头函数的函数体中只有一行代码，并且是return形式，则可以简化为

```
arr.sort((a,b)=>a-b);
```

练习：使用匿名函数创建函数，传递任意三个数字返回平均值，箭头函数替换匿名函数

```
var fn=(a,b,c)=>(a+b+c)/3;
	console.log(fn(1,2,3));
```

### 4、模板字符串

简化了字符串的拼接

·反引号之间内容就是模板字符串 ${JS表达式}·

```
var ename='涛哥';
var salary=50000;
var sex=1;
//`  `
console.log(`
姓名：${ename}
性别：${sex===1 ? '男' : '女'}
工资：${salary.toFixed(2)}
`);
```

练习：创建对象，包含一条商品数据，包含的属性有编号，标题，是否在售，最后打印输出以下格式：

```
var book={
 id:0001,
 title:'珍藏版金瓶梅',
 price:5678,
 isOnsale:1
}
console.log(`
编号：${ book.id  }
标题：${ book.title  }
价格：${ book.price.toFixed(2)  }
是否在售：${book.isOnsale===1 ?  '是':'否'  }
`);
```

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
