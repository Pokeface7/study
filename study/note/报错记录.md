## 报错记录

#### 1、prettier格式问题

下载prettier-code保存自动格式化

解决eslint格式报错vscode右下角，vue左边的改成LF；

#### 2、empty block statement

空代码块，写的if语句没写内容

#### 3、使用alert打断点看代码执行情况；

注意方法是怎么触发的是组件创建还是相关的变量改变，监听变量

#### 4、渐变竖杠可以使用空盒子设置高宽和背景色渐变

#### 5、调试代码，逐步打alert，多重判断条件，拆开调试

#### 6、遍历数据，需要数据存在才行，否则会中断遍历

```
//筛选减灾能力
    filterListAbility() {
      this.ListAbility = [];
      this.checkList.forEach((val) => {
        if (
          !!val.mode &&
          val.mode.includes(this.urlMode) &&
          val.category.includes("减灾能力")
        ) {
          this.ListAbility.push(val);
        }
      });
    },
```

#### 7、代码有冲突，首先可以删除无用冲突代码，有用代码可以合并

#### 8、f12调试css

选中元素后可在样式中修改css

#### 9、发请求传入的数据格式不对

network中看请求的载荷格式：

```
{resourcecode: "数据治理", kvp: "{"wtms":"22","wtly":"2","tcr":"22","zrdw":"2","zgqx":"2","sfyzg":"未整改"}"}
```

错误：把前面添加的字段也全部转json了，只需要转参数

```
this.JSONForm = {
        resourcecode: "数据治理",
        kvp: JSON.stringify(this.form),
      };
```

#### 10、接口测试

使用配置文件中的基础路径，拼接API中的URL（/list）

测试的时候，

#### 11、接口调用

需要传入参数

```
async getProtectRoute() {
      const { data: res1 } = await getTableData({
        condition: "provinceid.eq.'20179' and statusid.in.(0,2)",
        pageNum: 1,
        pageSize: 100,
        resourceCode: "slxllj",//数据表名称
      });
      console.log(res1.data.list[0].geometry, "111111");
    },
```

#### 12、10.8数组赋值时，数据展示时无效果

学会去思考问题出现在哪，定位错位的位置，使用控制变量法，找到导致错误的具体原因。多用console观察打印结果。

错误原因，处理好的数组带有`_ob_`属性，导致无法获取值；

错误现象，使用data里面的数据就带有ob，let一个变量就不带ob

ob是vue这个框架对数据设置的监控器，一般都是不可枚举

data里面的数据会被监听，考虑到赋值的时候是否异步或者慢于监听器；

JSON.parse(JSON.stringify(this.list))深拷贝一下

或者加个定时器试试

#### 13、SVN冲突解决

日志中，左边文件拉的代码，右边文件自己代码，下面文件合并代码，选中文件右键，可以选择使用哪个文件，也可在文件中删除多于代码，点击绿色勾保存

#### 14、发请求时，可以let一个变量来接收res（res || [] || {},可以防止forEach时不是数组报错），使用数据之前判断res.error 。

#### 15、多使用方法，常用的方法工具封装起来

#### 16、将this赋值给that

this指向可能存在问题，赋值给that之后，指向不会发生变化

```
handAdd(){
that = this;
this.data;
}
```

#### 17、用F查找变量观察变量名是否有问题

#### 10.10 方法内其他条件运行赋值正常，唯有一个赋值不正常，错误原因：单词写错

#### 18、js是单线程的，函数会一步步执行，可以一步步打印观察执行情况，也可以debugger断电调试；

#### 19、css样式计算属性

```
height:calc(100% - 33px)
```

#### 20、vscode操作

1、多光标

alt+鼠标点击可出现多个光标进行操作

2、重命名

选中类名或者变量名，然后右键选择重命名符号，即可改变整个文件中相同的名字

也可使用Ctrl+f在查找中点击左侧箭头使用替换

#### 21、表格渲染问题

错误，表格绑定的data必须是个数组[..{}]

对象遍历 （value,key）

Object.keys(obj),取key

#### 22、多级表格树形数据

 1、需要自己处理数据

el-table 绑定树形数据

el-table-column 通过对树形结构的属性名获取，v-for属性名数组，prop和label绑定属性名。

 2、存在正确格式的json文件

 拿到数据后，对数据进行递归，判断是否有children属性，对json文件数值进行修改，完成后对表格绑定的数据进行赋值。

3、优化

问题：column太多；

优化：做一个下拉多选框，按照多选框显示column

问题：层级太多

使用懒加载children

#### 23、鼠标事件

问题：在做鼠标移出移入显示隐藏时，使用了mouseout，发现在指针从一个元素移入其子元素时，`mouseout` 也会被触发，因为子元素遮盖了父元素的可视区域。

解决：使用mouseleave

鼠标事件

mouseover与mouseenter

不论鼠标指针穿过被选元素或其子元素，都会触发 mouseover 事件。
只有在鼠标指针从元素外穿入被选元素（到元素内）时，才会触发 mouseenter 事件。

mouseout与mouseleave

不论鼠标指针离开被选元素还是任何子元素，都会触发 mouseout 事件。
只有在鼠标指针从元素内穿出被选元素（到元素外）时，才会触发 mouseleave 事件。

#### 24、ElementUI 里，防止表格在新增减少列的时候出现表格跳动和高度变化

问题：表格变化时，表格高度宽度跳动

解决方案：给el-table添加:key，设置一个初始值，监听表格列的变化，触发初始值++或--，或者在改变表格列或行的函数改变key值

或者：

```
beforeUpdate(){  
  this.$nextTick(() => { //在数据加载完，重新渲染表格  
  	this.$refs.table.doLayout(); 
  }) }
```

25、el-table-column prop值添加文本

在distance变量后面添加km字段

```
<el-table-column prop="distance" label="距离">
            <template slot-scope="scope">
              {{ scope.row.distance + "km" }}
            </template>
</el-table-column>
```

26、数组根据数组内对象属性排序

记得return

```
let arr2 = arr.sort(function(a,b){
    return a.age-b.age
})
```

#### 27、更改配置文件

需要重新启动项目，才能够起作用。

#### 28、echart适配问题

宽高写百分之百

```
//echart配置中添加适配函数
 var twChart = echarts.init(document.getElementById('twChart'));
	twChart.setOption(option);
	setTimeout(function (){
	    window.onresize = function () {
	    	twChart.resize();
	    }
	},200)
```

但是会出现，刚开始并不能适配，改变视口百分比才可以

解决方法：调用echart函数时，使用nextTick函数
